{
  "task": "Create a desktop application for hotel invoice management",
  "platform": "Electron + React",
  "requirements": {
    "frontend": {
      "framework": "React",
      "components": [
        {
          "name": "InvoiceForm",
          "fields": [
            { "label": "Client Name", "type": "text", "required": true },
            { "label": "Invoice Date", "type": "date", "default": "system_today" },
            { "label": "Makkah Hotel Name", "type": "text" },
            { "label": "Makkah Hotel Rate (per night)", "type": "number" },
            { "label": "Nights in Makkah", "type": "number" },
            { "label": "Madinah Hotel Name", "type": "text" },
            { "label": "Madinah Hotel Rate (per night)", "type": "number" },
            { "label": "Nights in Madinah", "type": "number" },
            { "label": "Visa Rate", "type": "number" },
            { "label": "Profit Percentage", "type": "number" },
            { "label": "Per Pax Count", "type": "number" },
            { "label": "Exchange Rate (SAR to PKR)", "type": "number" }
          ],
          "actions": [
            { "name": "Generate Invoice", "function": "calculateAndGenerateInvoice" },
            { "name": "Save to Excel", "function": "saveDataToExcel" },
            { "name": "Export to PDF", "function": "generatePDFInvoice" }
          ]
        }
      ]
    },
    "backend": {
      "framework": "Node.js",
      "packaged_with": "Electron",
      "calculation_logic": {
        "makkah_cost": "makkah_rate * makkah_nights",
        "madinah_cost": "madinah_rate * madinah_nights",
        "base_total": "makkah_cost + madinah_cost + visa_rate",
        "with_profit": "base_total * (1 + profit_percentage/100)",
        "per_pax": "with_profit / pax_count",
        "final_in_pkr": "per_pax * exchange_rate"
      },
      "libraries": {
        "excel": "SheetJS (xlsx)",
        "pdf": "jspdf or pdfmake"
      }
    },
    "invoice_generation": {
      "output_format": ["PDF", "PNG"],
      "template_required": true,
      "note": "Ask user to provide invoice PNG or PDF template for styling"
    },
    "desktop_build": {
      "tool": "Electron Builder",
      "output": {
        "windows": ".exe",
        "mac": ".dmg",
        "linux": ".AppImage"
      }
    }
  },
  "instructions": [
    "Use React for the form UI inside Electron.",
    "Store all invoice data locally in Excel file.",
    "Generate invoice PDF with template provided by user.",
    "Allow offline functionality.",
    "Build distributable package (EXE for Windows)."
  ]
}
